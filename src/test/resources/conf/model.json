{
  "sql": [
    "ddl/01-create-database.h2.sql",
    "ddl/10-posts.h2.sql"
  ],
  "partialOpenRPC": {
    "info": {
      "title": "Test sample",
      "version": "1.0.0"
    }
  },
  "entities": [
    {
      "name": "posts",
      "tableName": "post",
      "autoGeneratedIds": false,
      "naming": "CAMEL_TO_SNAKE",
      "generatedCreateFields": {
        "id": "uuid"
      },
      "identifierNames": [
        "id"
      ],
      "allowedWhereKeys": [
        "title"
      ],
      "allowedWhereOperators": [
        "=",
        "like"
      ],
      "allowedSortKeys": [
        "title"
      ],
      "jsonSchema": {
        "type": [
          "object"
        ],
        "properties": {
          "id": {
            "type": [
              "string"
            ]
          },
          "icon": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": [
              "string"
            ]
          },
          "content": {
            "type": [
              "string"
            ]
          }
        }
      }
    },
    {
      "name": "posts-validated",
      "tableName": "post_validated",
      "autoGeneratedIds": false,
      "naming": "CAMEL_TO_SNAKE",
      "generatedCreateFields": {
        "id": "uuid"
      },
      "identifierNames": [
        "id"
      ],
      "validateWithJsonSchema": true,
      "jsonSchema": {
        "type": [
          "object"
        ],
        "required": [
          "title",
          "content"
        ],
        "properties": {
          "id": {
            "type": [
              "string"
            ]
          },
          "icon": {
            "type": [
              "string",
              "null"
            ]
          },
          "title": {
            "type": [
              "string"
            ]
          },
          "content": {
            "type": [
              "string"
            ]
          }
        }
      }
    },
    {
      "name": "posts-filtered",
      "tableName": "post_filtered",
      "autoGeneratedIds": false,
      "naming": "CAMEL_TO_SNAKE",
      "generatedCreateFields": {
        "id": "uuid",
        "author": "sub"
      },
      "identifierNames": [
        "id"
      ],
      "implicitFiltering": {
        "view": {
          "clause": "status = 'PUBLISHED' OR author = {{user.sub}}"
        }
      },
      "jsonSchema": {
        "type": [
          "object"
        ],
        "properties": {
          "id": {
            "type": [
              "string"
            ]
          },
          "title": {
            "type": [
              "string"
            ]
          },
          "author": {
            "type": [
              "string"
            ]
          },
          "status": {
            "enum": [
              "PUBLISHED",
              "DRAFT"
            ],
            "type": [
              "string"
            ]
          },
          "content": {
            "type": [
              "string"
            ]
          }
        }
      }
    },
    {
      "name": "entity-with-revision",
      "tableName": "entity_revision",
      "identifierNames": [
        "id"
      ],
      "allowedWhereKeys": [
        "name"
      ],
      "allowedWhereOperators": [
        "="
      ],
      "allowedSortKeys": [
        "name"
      ],
      "jsonSchema": {
        "type": [
          "object"
        ],
        "properties": {
          "id": {
            "type": [
              "string"
            ]
          },
          "name": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      }
    }
  ],
  "jsonRpcMethods": [
    {
      "type": "CRUD",
      "entityName": "posts"
    },
    {
      "type": "CRUD",
      "entityName": "posts-filtered"
    },
    {
      "type": "CRUD",
      "entityName": "posts-validated"
    },
    {
      "type": "CRUD",
      "entityName": "entity-with-revision"
    }
  ]
}